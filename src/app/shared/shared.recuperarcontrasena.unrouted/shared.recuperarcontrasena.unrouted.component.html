<div class="recuperar-wrapper animate-fade-in" [ngClass]="{ 'entorno-dev': isDev }">
  <div class="login-card shadow-lg">
    <h2 class="login-title mb-4">
      <i class="bi bi-key me-2"></i> Recuperar contraseña
    </h2>

    <form [formGroup]="recuperarForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>NIF de la empresa</mat-label>
        <input matInput type="text" formControlName="nif" placeholder="Introduce el NIF" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-100 mb-3">
        <mat-label>Empresa</mat-label>
        <mat-select formControlName="proveedorId">
          <mat-option *ngFor="let proveedor of proveedores" [value]="proveedor.id">
            {{ proveedor.descripcion }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <button mat-flat-button class="w-100 boton-verde" type="submit" [disabled]="isLoading">
        <i class="bi bi-send me-2"></i> Enviar enlace de recuperación
      </button>
      

      <!-- Circular Loader -->
      <div *ngIf="isLoading" class="loading-spinner"></div>

      <div class="mt-3 text-center" *ngIf="mensaje">
        {{ mensaje }}
      </div>
    </form>
  </div>
</div>
